{
  "type": "object",
  "properties": {
    "summary": {
      "type": "string",
      "description": "High-level summary of the review findings."
    },
    "findings": {
      "type": "array",
      "description": "List of high-level findings Codex identified.",
      "items": {
        "type": "object",
        "required": ["title", "details", "severity", "resolved", "files"],
        "additionalProperties": false,
        "properties": {
          "title": {
            "type": "string",
            "description": "Short label for the finding."
          },
          "details": {
            "type": "string",
            "description": "Markdown description of the issue and guidance to fix it."
          },
          "severity": {
            "type": "string",
            "enum": ["critical", "high", "medium", "low", "info"],
            "description": "Relative priority of the finding."
          },
          "resolved": {
            "type": "boolean",
            "description": "True when the issue is already fixed in the latest diff."
          },
          "files": {
            "type": "array",
            "description": "Optional list of file or file:line references related to the finding.",
            "items": {
              "type": "string"
            }
          }
        }
      }
    }
  },
  "required": ["summary", "findings"],
  "additionalProperties": false
}
