{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Codex Issue Implementation Plan",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "summary",
    "plan_markdown",
    "risks",
    "dependencies",
    "open_questions",
    "next_steps",
    "confidence",
    "estimated_effort"
  ],
  "properties": {
    "summary": {
      "type": "string",
      "description": "One to two sentences summarizing the recommended implementation direction."
    },
    "plan_markdown": {
      "type": "string",
      "description": "Full GitHub-flavored markdown implementation plan that follows the required section order."
    },
    "risks": {
      "type": "array",
      "description": "Optional bullet list of notable risks not already covered in the markdown section.",
      "items": {
        "type": "string"
      }
    },
    "dependencies": {
      "type": "array",
      "description": "Blocking external systems, migrations, or teams that must be engaged.",
      "items": {
        "type": "string"
      }
    },
    "open_questions": {
      "type": "array",
      "description": "Outstanding questions to unblock the work.",
      "items": {
        "type": "string"
      }
    },
    "next_steps": {
      "type": "array",
      "description": "Immediate follow-up items for the team running this workflow.",
      "items": {
        "type": "string"
      }
    },
    "confidence": {
      "type": "string",
      "description": "Self-reported confidence in the plan.",
      "enum": [
        "very high",
        "high",
        "medium",
        "low",
        "very low"
      ]
    },
    "estimated_effort": {
      "type": "string",
      "description": "T-shirt sizing for the work.",
      "enum": [
        "xs",
        "s",
        "m",
        "l",
        "xl"
      ]
    }
  }
}
