name: "Apply and push doc-sync patch"
description: "Apply the generated documentation diff, commit, push, and comment on the PR."
inputs:
  github-token:
    description: "GitHub token with repo scope"
    required: true
  doc_patch_file:
    description: "Path to the binary diff generated by doc-sync"
    required: true
  doc_report_path:
    description: "Path to the Markdown report"
    required: true
  doc_files_path:
    description: "Path to the file list"
    required: true
  head_ref:
    description: "Head branch reference"
    required: true
  pr_number:
    description: "Pull request number"
    required: true
outputs:
  commit_sha:
    description: "SHA of the doc-sync commit"
    value: ${{ steps.delegate.outputs.commit_sha }}
runs:
  using: "composite"
  steps:
    - id: delegate
      uses: ../../actions/doc-sync/push
      with:
        github-token: ${{ inputs.github-token }}
        doc_patch_file: ${{ inputs.doc_patch_file }}
        doc_report_path: ${{ inputs.doc_report_path }}
        doc_files_path: ${{ inputs.doc_files_path }}
        head_ref: ${{ inputs.head_ref }}
        pr_number: ${{ inputs.pr_number }}
